# 1.  基 2 FFT

解释原位计算过程，对应流图

解释 cache，让 fft 更快

利用 matlab 全局缓存

周期性对称性的体现

- 计算蝶形因子本身时是利用 N/2
- 读取索引
- 计算蝶形因子

体现周期性对称性的地方：

- 存储空间：在 `get_fft_cache` 里预计算 `twiddle_full = exp(-1j*2*pi*(0:(N/2-1))/N).'` 只存前 `N/2` 个旋转因子，利用 $W_N^{k+N/2}=-W_N^k$ 的半周期对称性避免存满 N 个（见约 lines 270–280）。
- 读取索引：每个 stage 的 `idx_vec = (0:half_span-1)*stride + 1` 只是从 `twiddle_full` 抽取需要的子序列，stride = `N/span` 保证按对称性等间隔取样，不重复存储（约 lines 295–310）。
- 计算蝶形因子：蝶形时用 `twiddle_mul = W .* bot_val`，其中 `W` 已按上述对称性抽取；不再重复计算/存储下半周期的 twiddle，计算量和访问量都基于 N/2 的缓存（约 lines 175–205）。

结论：代码已经通过只存 N/2 的 twiddle，并用 stride 抽取，体现了旋转因子的周期/对称性，在存储、索引和蝶形计算三个点上都有落地。


权衡

- 空间换时间
- 如果做了空间上周期对称性优化，调用方式变复杂
- 需要多次fft 每次 fft 要重新算复杂的调用方式，在当前场景的开销不太适合

性能对比

# 2. 任意点数 FFT 

mix 


czt没有原位计算
